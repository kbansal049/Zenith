<template>
    <lightning-card title="CAP Requests" icon-name="utility:jump_to_top" variant="narrow">
        <lightning-button-icon icon-name="utility:refresh"  alternative-text="Refresh" title="Refresh" slot="actions" onclick={refreshCall}></lightning-button-icon>
        
        <template if:true={displaySpinner}>
            <lightning-spinner variant="brand" size="large"></lightning-spinner>
        </template>

        <template if:true={isDataPresent}>
            <lightning-datatable
                key-field="id"
                columns={columns}
                data={data}
                hide-checkbox-column
                column-widths-mode	="auto"
                show-row-number-column
                default-sort-direction={defaultSortDirection}
                sorted-direction={sortDirection}
                sorted-by={sortedBy}
                onsort={onHandleSort}>
            </lightning-datatable>
        </template>

        <template if:false={isDataPresent}>
            <div class="slds-align_absolute-center">
                <lightning-icon icon-name="utility:info" alternative-text="Warning!" title="Warning" size="small"></lightning-icon>&nbsp;No CAP Requests found!
            </div>
        </template>
        
    </lightning-card>
</template>